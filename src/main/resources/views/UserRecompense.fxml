<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.UserRecompenseController"
            stylesheets="@user-recompense-style.css"
            styleClass="root-pane">
    <!-- Top Navigation Bar -->
    <top>
        <VBox spacing="10">
            <HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-bar">
                <padding>
                    <Insets left="20" right="20" top="10" bottom="10"/>
                </padding>

                <Button fx:id="backButton" styleClass="back-button" text="" onAction="#handleBackButton">
                </Button>

                <Label fx:id="nomUserLabel" styleClass="user-label"/>
            </HBox>

            <!-- Search and Filter Section -->
            <HBox spacing="15" styleClass="search-filter-bar">
                <padding>
                    <Insets left="20" right="20" top="10" bottom="10"/>
                </padding>

                <TextField fx:id="searchField" promptText="Search rewards..." styleClass="search-field" HBox.hgrow="ALWAYS" onKeyReleased="#handleSearch"/>

                <ComboBox fx:id="filterComboBox" promptText="Filter by" styleClass="filter-combo"/>

                <Button fx:id="applyFilterButton" text="Apply Filter" styleClass="filter-button" onAction="#handleFilter"/>
            </HBox>
        </VBox>
    </top>

    <!-- Center: User Stats Summary -->
    <center>
        <VBox spacing="15" styleClass="stats-container" alignment="CENTER">
            <padding>
                <Insets top="20" bottom="20"/>
            </padding>

            <HBox spacing="30" alignment="CENTER">
                <VBox alignment="CENTER" styleClass="stat-box">
                    <Label text="Total Points" styleClass="stat-label"/>
                    <Text fx:id="totalPointsText" styleClass="stat-value" text="0"/>
                </VBox>


                <VBox alignment="CENTER" styleClass="stat-box">
                    <Label text="Rank" styleClass="stat-label"/>
                    <Text fx:id="rankText" styleClass="stat-value" text="--"/>
                </VBox>
            </HBox>
        </VBox>
    </center>

    <!-- Bottom: Claimed Recompenses Section -->
    <bottom>
        <VBox spacing="15" styleClass="recompenses-container">
            <padding>
                <Insets left="20" right="20" bottom="20"/>
            </padding>

            <HBox alignment="CENTER_LEFT">
                <Label text="Claimed Rewards" styleClass="section-title"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="rewardsCountLabel" text="0 rewards" styleClass="count-label"/>
            </HBox>

            <ScrollPane fitToWidth="true" styleClass="recompenses-scroll">
                <FlowPane fx:id="claimedRecompensesFlowPane"
                          hgap="15" vgap="15"
                          alignment="TOP_LEFT"
                          styleClass="recompenses-flow-pane"/>
            </ScrollPane>
        </VBox>
    </bottom>
</BorderPane>